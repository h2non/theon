{"version":3,"sources":["theon.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","theon","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"req","res","done","client","err","_res","adapter","setOriginalResponse","setStatus","status","setStatusText","statusText","setHeaders","headers","data","setBody","lil-http",2,"isBrowser","agents","embed","get","name","defaults","add","agent","./browser/lil","./node/request",3,"cb","request","opts","json","body",4,"mw","utils","Context","ctx","parent","query","params","cookies","agentOpts","response","validators","useParent","prototype","setupMiddleware","forEach","key","phase","run","apply","arguments","raw","basePath","merge","clone","buildUrl","baseUrl","rootUrl","head","tail","path","./agents","./utils","midware",5,"Response","series","Dispatcher","noop","phases","before","next","dial","after","runPhase","currentRes","./response",6,"Client","_client","doRequest","args","method","../dispatcher",7,"has","Generator","src","target","entities","bind","render","kind","renderEntity","entity","TypeError","value","names","concat","aliases","nameConflict","Object","defineProperty","enumerable","configurable","set","../utils","./client",8,"./generator",9,"Request","engine","Base","mixins","resources","collections","create","alias","push","collection","Collection","action","resource","Resource","mixin","helper","Mixin","../context","../engine","../request",10,"url","./base",11,12,"./collection","./mixin","./resource",13,"fn",14,"options","end",15,"types","param","unsetParam","queryParam","unsetQuery","unset","type","send","cookie","unsetCookie","use","middleware","useResponse","validate","validateRequest","validateResponse","model","debug","pathParams","./context","./dispatcher","./types",16,"orig","typeParams","statusType","statusCode","toLowerCase","ct","setType","contentType","obj","info","ok","clientError","serverError","error","toError","accepted","noContent","badRequest","unauthorized","notAcceptable","notFound","forbidden","text","msg","str","split","reduce","parts","shift","val",17,"VERSION","./engine","./entities","./request",18,"html","xml","urlencoded","form","form-data",19,"y","x","k",20,"hasOwn","hasOwnProperty",21,"./clone","./has","./merge","./path-params","./series",22,23,"PATH_REGEXP","RegExp","join","buf","exec","replace",24,"slicer","Array","slice","arr","stack",25,26,"root","factory","http","lil","toStr","toString","hasBind","Function","origin","location","originRegex","jsonMimeRegex","hasDomainRequest","XDomainRequest","timeout","auth","withCredentials","responseType","isObj","assign","cur","once","called","xhr","defaultContent","field","setRequestHeader","getHeaders","rawHeaders","getAllResponseHeaders","trim","header","isJSONResponse","test","getResponseHeader","encodeParams","getOwnPropertyNames","filter","undefined","map","encodeURIComponent","parseData","responseText","JSON","parse","getStatus","buildResponse","readyState","buildErrorResponse","cleanReferences","onreadystatechange","onerror","ontimeout","isValidResponseStatus","onError","onLoad","config","ev","isCrossOrigin","match","getURL","indexOf","XHRFactory","XMLHttpRequest","createClient","toUpperCase","open","user","password","updateProgress","lengthComputable","loaded","total","hasContentTypeHeader","buildPayload","isArray","stringify","timeoutResolver","timeoutId","clearTimeout","progress","errorHandler","setTimeout","abort","onprogress","requestFactory","post","put","patch","delete","del",27,"calls","toArray","pop","runNext","remove","splice","flush","nargs"],"mappings":"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"}