{"version":3,"sources":["theon.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","theon","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"embed","./lil",2,"req","res","done","client","err","_res","adapter","setOriginalResponse","setStatus","status","setStatusText","statusText","setHeaders","headers","data","setBody","lil-http",3,"isBrowser","agents","get","name","defaults","add","agent","./browser","./node",4,"./request",5,"utils","cb","request","opts","url","qs","query","useQuerystring","auth","extend","agentOpts","body","statusCode","../../utils",6,"Validator","Middleware","merge","Context","ctx","parent","params","cookies","validator","middleware","useParent","prototype","setupMiddleware","forEach","key","phase","use","next","run","raw","path","buildPath","clone","baseUrl","head","basePath","tail","./agents","./middleware","./utils","./validator",7,"Response","Dispatcher","noop","phases","before","dial","after","debug","series","runPhase","rootUrl","pathParams","orig","validate","./response",8,"Request","Client","_client","doRequest","newRequest","method","../dispatcher","../request",9,"has","Generator","src","target","entities","bind","render","kind","renderEntity","entity","TypeError","value","names","concat","aliases","nameConflict","Object","defineProperty","enumerable","configurable","set","../utils","./client",10,"./generator",11,"engine","Base","mixins","resources","collections","create","alias","push","apply","arguments","collection","Collection","action","resource","Resource","mixin","helper","Mixin","useContext","../context","../engine",12,"./base",13,14,"./collection","./mixin","./resource",15,"fn",16,"options","end",17,"mw","stack","eval","midware",18,"types","param","unsetParam","setParams","setQuery","queryParam","unsetQuery","unset","type","indexOf","json","send","cookie","unsetCookie","user","password","useResponse","requestValidator","responseValidator","model","setAgentOpts","stopDebugging","./context","./dispatcher","./types",19,"typeParams","statusType","toLowerCase","ct","setType","contentType","obj","info","ok","clientError","serverError","error","toError","accepted","noContent","badRequest","unauthorized","notAcceptable","notFound","forbidden","text","msg","str","split","reduce","parts","shift","val",20,"arg","arg2","VERSION","./engine","./entities",21,"html","xml","urlencoded","form","form-data",22,"y","x","k",23,"./clone",24,"hasOwn","hasOwnProperty",25,"./extend","./has","./merge","./path-params","./series",26,27,"PATH_REGEXP","RegExp","join","buf","exec","replace",28,"slicer","Array","slice","arr","args",29,30,31,"root","factory","http","lil","toStr","toString","hasBind","Function","origin","location","originRegex","jsonMimeRegex","hasDomainRequest","XDomainRequest","timeout","withCredentials","responseType","isObj","assign","cur","once","called","xhr","defaultContent","field","setRequestHeader","getHeaders","rawHeaders","getAllResponseHeaders","trim","header","isJSONResponse","test","getResponseHeader","encodeParams","getOwnPropertyNames","filter","undefined","map","encodeURIComponent","parseData","responseText","JSON","parse","response","getStatus","buildResponse","readyState","buildErrorResponse","cleanReferences","onreadystatechange","onerror","ontimeout","isValidResponseStatus","onError","onLoad","config","ev","isCrossOrigin","match","getURL","XHRFactory","XMLHttpRequest","createClient","toUpperCase","open","updateProgress","lengthComputable","loaded","total","hasContentTypeHeader","buildPayload","isArray","stringify","timeoutResolver","timeoutId","clearTimeout","progress","errorHandler","setTimeout","abort","onprogress","requestFactory","post","put","patch","delete","del",32,"calls","toArray","pop","runNext","remove","splice","flush","nargs"],"mappings":"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"}