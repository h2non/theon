{"version":3,"sources":["theon.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","theon","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"embed","./lil",2,"req","res","done","client","err","_res","adapter","setOriginalResponse","setStatus","status","setStatusText","statusText","setHeaders","headers","data","setBody","lil-http",3,"isBrowser","agents","get","name","defaults","set","agent","add","TypeError","remove","./browser","./node",4,"./request",5,"request","utils","cb","opts","url","qs","query","method","useQuerystring","body","json","format","auth","extend","agentOpts","stream","pipe","handler","statusCode","../../utils",6,"Middleware","Store","Context","ctx","parent","params","cookies","persistent","store","middleware","useParent","fields","prototype","forEach","key","raw","mergeParams","merger","mergeHeaders","merge","rootUrl","clone","buildPath","base","head","basePath","tail","path","normalize","apply","arguments","./agents","./store","./utils","midware-pool",7,"Response","Dispatcher","run","noop","error","_err","series","before","next","dial","after","runHook","runPhase","response","fullPath","pathParams","runMiddleware","dialer","nextFn","once","forward","orig","pipes","onDealing","abort","message","event","entity","runEntity","phase","runStack","validate","stack","hierarchy","entityHierarchy","./response",8,"Request","Client","_client","doRequest","newRequest","../request","../response",9,"has","Generator","src","target","bind","render","entities","renderEntity","proto","renderProto","value","names","concat","aliases","Object","keys","nameConflict","defineProperty","enumerable","configurable","../utils","./client",10,"./generator",11,"Entity","create","./entity",12,"Collection",13,"engine","alias","push","collection","addEntity","action","resource","Resource","mixin","helper","Mixin","invalidEntity","meta","prop","../engine",14,"./collection","./mixin","./resource",15,"fn",16,"options","end",17,"map","model","./map","./model",18,"mapper",19,"bindModel",20,"types","hasPromise","Promise","dispatcher","defineAccessors","param","persistField","type","persistParam","persistParams","unsetParam","setParams","queryParam","setQuery","unsetQuery","persistQueryParam","persistQuery","persistQueryParams","persistentQueryParam","header","lower","unset","persistHeader","persistHeaders","mimeType","indexOf","accept","send","cookie","unsetCookie","user","password","bodyMap","use","useRequest","useEntity","useEntityRequest","useResponse","useEntityResponse","validator","requestValidator","entityValidator","entityRequestValidator","responseValidator","entityResponseValidator","interceptor","entityInterceptor","evaluator","entityEvaluator","observe","hook","observeEntity","setAgentOpts","persistAgentOpts","persistOptions","dispatch","setTimeout","handle","then","success","throwPromiseError","promise","resolve","reject","catch","bodyStream","root","accessors","./context","./dispatcher","./middleware","./types",21,"typeParams","statusType","toLowerCase","ct","setType","contentType","obj","info","ok","clientError","serverError","toError","accepted","noContent","badRequest","unauthorized","notAcceptable","notFound","forbidden","text","msg","str","split","reduce","parts","shift","val",22,"getParent","undefined","setParent",23,"Theon","arg","arg2","VERSION","./engine","./entities",24,"html","xml","urlencoded","form","form-data",25,"y","x","k",26,27,"hasOwnProperty",28,"./clone","./extend","./has","./lower","./merge","./normalize","./once","./path-params","./series",29,30,"slicer","Array","slice","args",31,"buf",32,"called",33,"PATH_REGEXP","RegExp","join","exec","replace",34,"arr",35,36,"factory","http","lil","toStr","toString","hasOwn","hasBind","Function","origin","location","originRegex","jsonMimeRegex","hasDomainRequest","XDomainRequest","timeout","withCredentials","responseType","isObj","assign","cur","xhr","defaultContent","field","setRequestHeader","getHeaders","rawHeaders","getAllResponseHeaders","trim","isJSONResponse","test","getResponseHeader","encodeParams","getOwnPropertyNames","filter","encodeURIComponent","parseData","responseText","JSON","parse","getStatus","buildResponse","readyState","buildErrorResponse","cleanReferences","onreadystatechange","onerror","ontimeout","isValidResponseStatus","onError","onLoad","config","ev","isCrossOrigin","match","getURL","XHRFactory","XMLHttpRequest","createClient","toUpperCase","open","updateProgress","lengthComputable","loaded","total","hasContentTypeHeader","buildPayload","isArray","stringify","timeoutResolver","timeoutId","clearTimeout","progress","errorHandler","onprogress","requestFactory","post","put","patch","delete","del",37,"midware","MiddlewarePool","pool","Pool","./pool",38,"registered","flush","splice","flushAll","useCtx","toArr","runParent","pop","index",39,"calls","toArray","runNext","nargs"],"mappings":"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"}