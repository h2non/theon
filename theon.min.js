/*! theon v0.1.0-beta.1 - MIT license - https://github.com/h2non/theon */
(function(t){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{var e;if(typeof window!=="undefined"){e=window}else if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{e=this}e.theon=t()}})(function(){var t,e,n;return function r(t,e,n){function i(s,a){if(!e[s]){if(!t[s]){var u=typeof require=="function"&&require;if(!a&&u)return u(s,!0);if(o)return o(s,!0);var p=new Error("Cannot find module '"+s+"'");throw p.code="MODULE_NOT_FOUND",p}var c=e[s]={exports:{}};t[s][0].call(c.exports,function(e){var n=t[s][1][e];return i(n?n:e)},c,c.exports,r,t,e,n)}return e[s].exports}var o=typeof require=="function"&&require;for(var s=0;s<n.length;s++)i(n[s]);return i}({1:[function(t,e,n){e.exports={embed:t("./lil")}},{"./lil":2}],2:[function(t,e,n){e.exports=function(e,n,i){var o=t("lil-http");return o(e,function(t,e){i(t,r(n,e))})};function r(t,e){t.setOriginalResponse(e);t.setStatus(e.status);t.setStatusText(e.statusText);t.setHeaders(e.headers);if(e.data)t.setBody(e.data);return t}},{"lil-http":31}],3:[function(t,e,n){var r=typeof window!=="undefined";var i=n.agents=r?t("./browser"):t("./node");n.get=function(t){return t?i[t]:i.embed};n.defaults=function(){return n.get()};n.add=function(t,e){i[t]=e}},{"./browser":1,"./node":4}],4:[function(t,e,n){e.exports={embed:t("./request")}},{"./request":5}],5:[function(t,e,n){var r=t("../../utils");e.exports=function(e,n,o){var s=t("request");var a={url:e.url,qs:e.query,headers:e.headers,useQuerystring:true};if(e.opts.auth){a.auth=e.opts.auth}r.extend(a,e.agentOpts);return s(a,function(t,e,r){o(t,i(n,e,r))})};function i(t,e,n){if(!e)return t;t.setOriginalResponse(e);t.setStatus(e.statusCode);t.setStatusText(e.statusText);t.setHeaders(e.headers);if(n)t.setBody(n);return t}},{"../../utils":25,request:30}],6:[function(t,e,n){var r=t("./agents");var i=t("./validator");var o=t("./middleware");var s=t("./utils").merge;e.exports=a;function a(t){this.parent=null;this.body=null;this.opts={};this.query={};this.params={};this.headers={};this.cookies={};this.persistent={};this.agentOpts={};this.agent=r.defaults();this.validator=new i;this.middleware=new o;if(t)this.useParent(t)}a.prototype.useParent=function(t){this.parent=t;this.setupMiddleware(t);return this};a.prototype.setupMiddleware=function(t){["middleware","validator"].forEach(function(e){["request","response"].forEach(function(n){this[e].use(n,function(r,i,o){t[e].run(n,r,i,o)})},this)},this)};a.prototype.get=a.prototype.raw=function(){var t=this.parent?this.parent.get():{};var e={};e.opts=s(t.opts,this.opts,this.persistent.opts);e.path=this.buildPath();e.headers=s(t.headers,this.headers,this.persistent.headers);e.query=s(t.query,this.query,this.persistent.query);e.params=s(t.params,this.params,this.persistent.params);e.cookies=s(t.cookies,this.cookies);e.agent=this.agent;e.agentOpts=s(t.agentOpts,this.agentOpts,this.persistent.agentOpts);e.ctx=this;return e};a.prototype.clone=function(){var t=new a;return t.useParent(this)};a.prototype.buildPath=function(){var t="";if(this.parent)t+=this.parent.buildPath();var e=this.opts.basePath||"";var n=this.opts.path||"";return t+e+n}},{"./agents":3,"./middleware":17,"./utils":25,"./validator":29}],7:[function(t,e,n){var r=t("./utils");var i=t("./response");e.exports=o;function o(t){this.req=t}o.prototype.run=function(t){t=t||s;var e=this.req.raw();var n=new i(this.req);var o=[function u(t){this.before(e,n,t)},function p(t,e,n){this.dial(t,e,n)},function c(t,e,n){this.after(t,e,n)}];function a(e,n,r){if(e==="intercept")e=null;if(n.ctx.debug)n.ctx.debug(e,n,r);t(e,r)}r.series(o,a,this);return this};o.prototype.before=function(t,e,n){this.runPhase("request",t,e,n)};o.prototype.after=function(t,e,n){this.runPhase("response",t,e,n)};o.prototype.dial=function(t,e,n){var i=t.opts.rootUrl||"";var o=r.pathParams(t.path,t.params);t.url=i+o;e.orig=t.ctx.agent(t,e,function(e,r){n(e,t,r)})};o.prototype.runPhase=function(t,e,n,i){var o=[function a(r){this.middleware(t,e,n,r)},function u(n,r){this.validate(t,e,n,r)}];function s(t,r){i(t,e,r||n)}r.series(o,s,this)};o.prototype.middleware=function(t,e,n,r){e.ctx.middleware.run(t,e,n,r)};o.prototype.validate=function(t,e,n,r){e.ctx.validator.run(t,e,n,r)};function s(){}},{"./response":19,"./utils":25}],8:[function(t,e,n){var r=t("../request");var i=t("../dispatcher");e.exports=o;function o(t){this._client=t}o.prototype.doRequest=function(t,e){t=t||{};var n=new Response(t);return this._client.ctx.agent(req,n,e)};o.prototype.newRequest=function(){var t=new r;t.ctx.agent=this._client.ctx.agent;return t};["GET","POST","PUT","PATCH","DELETE","HEAD","TRACE","OPTIONS"].forEach(function(t){o.prototype[t]=function(e,n){e.method=t;return this.doRequest(e,n)}})},{"../dispatcher":7,"../request":18}],9:[function(t,e,n){var r=t("./client");var i=t("../utils").has;e.exports=o;function o(t){this.src=t;this.target=null}o.prototype.bind=function(t){this.target=t;return this};o.prototype.render=function(){var t=this.src;this.target=this.target?this.target:new r(t);this.src.entities.forEach(this.renderEntity,this);return this.target};o.prototype.renderEntity=function(t){var e=t.name;if(!e)throw new TypeError("Render error: missing entity name");var n=t.render();var r=[e].concat(t.aliases);r.forEach(function(t){this.define(t,n)},this)};o.prototype.define=function(t,e){if(i(this.target,t))throw s(t);Object.defineProperty(this.target,t,{enumerable:true,configurable:false,get:function(){return e},set:function(){throw new Error("Cannot overwrite property: "+t)}})};function s(t){return new Error('Name conflict: "'+t+'" is already defined')}},{"../utils":25,"./client":8}],10:[function(t,e,n){e.exports={Client:t("./client"),Generator:t("./generator")}},{"./client":8,"./generator":9}],11:[function(t,e,n){var r=t("../request");var i=t("../engine");var o=t("../context");e.exports=s;function s(t){this.name=t;this.parent=null;this.aliases=[];this.entities=[];this.ctx=new o}s.prototype=Object.create(r.prototype);s.prototype.alias=function(t){var e=this.aliases;e.push.apply(e,arguments);return this};s.prototype.collection=function(t){if(!(t instanceof s.Collection)){t=new s.Collection(t)}return this.addEntity(t)};s.prototype.action=s.prototype.resource=function(t){if(!(t instanceof s.Resource)){t=new s.Resource(t)}return this.addEntity(t)};s.prototype.mixin=s.prototype.helper=function(t,e){if(!(t instanceof s.Mixin)){e=new s.Mixin(t,e)}this.addEntity(e);return this};s.prototype.addEntity=function(t){if(a(t)){throw new TypeError("entity must implement render() method")}if(t.useParent){t.useParent(this)}this.entities.push(t);return t};s.prototype.render=function(t){return new i.Generator(t||this).render()};function a(t){return!t||typeof t.render!=="function"}},{"../context":6,"../engine":10,"../request":18}],12:[function(t,e,n){var r=t("./base");e.exports=i;function i(t){r.call(this);if(t)this.url(t)}i.prototype=Object.create(r.prototype);i.prototype.entity="client"},{"./base":11}],13:[function(t,e,n){var r=t("./base");e.exports=r.Collection=i;function i(t){r.call(this,t)}i.prototype=Object.create(r.prototype);i.prototype.entity="collection"},{"./base":11}],14:[function(t,e,n){e.exports={Base:t("./base"),Mixin:t("./mixin"),Client:t("./client"),Resource:t("./resource"),Collection:t("./collection")}},{"./base":11,"./client":12,"./collection":13,"./mixin":15,"./resource":16}],15:[function(t,e,n){var r=t("./base");e.exports=r.Mixin=i;function i(t,e){if(typeof e!=="function")throw new TypeError("mixin must be a function");this.fn=e;this.name=t;this.ctx=null}i.prototype.entity="mixin";i.prototype.useParent=function(t){this.ctx=t};i.prototype.render=function(){var t=this.fn;var e=this.ctx;return function n(){return t.apply(e,arguments)}}},{"./base":11}],16:[function(t,e,n){var r=t("./base");var i=t("../request");var o=t("../engine").Generator;e.exports=r.Resource=s;function s(t){r.call(this,t)}s.prototype=Object.create(r.prototype);s.prototype.entity="resource";s.prototype.render=function(){var t=this.ctx;var e=new i(t);new o(this).bind(n).render();function n(t,n){if(typeof t==="object")e.options(t);if(typeof t==="function")n=t;if(typeof n==="function")return e.end(n);return e}return n}},{"../engine":10,"../request":18,"./base":11}],17:[function(t,e,n){var r=t("midware");e.exports=i;function i(){this.stack={}}i.prototype.use=function(t,e){var n=this.stack[t];if(!n){n=this.stack[t]=r()}n(e);return this};i.prototype.run=function(t,e,n,r){var i=this.stack[t];if(!i)return r();this.eval(i,e,n,r)};i.prototype.eval=function(t,e,n,r){t.run(e,n,r)}},{midware:32}],18:[function(t,e,n){var r=t("./types");var i=t("./utils");var o=t("./agents");var s=t("./context");var a=t("./response");var u=t("./dispatcher");e.exports=p;function p(t){this.parent=null;this.ctx=new s(t)}p.prototype.url=function(t){this.ctx.opts.rootUrl=t;return this};p.prototype.basePath=function(t){this.ctx.opts.basePath=t;return this};p.prototype.path=function(t){this.ctx.opts.path=t;return this};p.prototype.method=function(t){this.ctx.opts.method=t;return this};p.prototype.param=function(t,e){this.ctx.params[t]=e;return this};p.prototype.params=function(t){i.extend(this.ctx.params,t);return this};p.prototype.persistParam=function(t,e){var n=this.ctx.persistent.params||{};n[t]=e;this.ctx.persistent.params=n;return this};p.prototype.persistParams=function(t){this.ctx.persistent.params=i.extend(this.ctx.persistent.params,t);return this};p.prototype.unsetParam=function(t){delete this.ctx.params[t];return this};p.prototype.setParams=function(t){this.ctx.params=t;return this};p.prototype.query=function(t){i.extend(this.ctx.query,t);return this};p.prototype.setQuery=function(t){this.ctx.query=t;return this};p.prototype.queryParam=function(t,e){this.ctx.query[t]=e;return this};p.prototype.unsetQuery=function(t){delete this.ctx.query[t];return this};p.prototype.persistQueryParam=function(t,e){var n=this.ctx.persistent.query||{};n[t]=e;this.ctx.persistent.query=n;return this};p.prototype.persistQuery=function(t){this.ctx.persistent.query=i.extend(this.ctx.persistent.query,t);return this};p.prototype.set=function(t,e){this.ctx.headers[t]=e;return this};p.prototype.unset=function(t){delete this.ctx.headers[t];return this};p.prototype.headers=function(t){i.extend(this.ctx.headers,t);return this};p.prototype.setHeaders=function(t){this.ctx.headers=t;return this};p.prototype.persistHeader=function(t,e){var n=this.ctx.persistent.headers||{};n[t]=e;this.ctx.persistent.headers=n;return this};p.prototype.persistHeaders=function(t){this.ctx.persistent.headers=i.extend(this.ctx.persistent.headers,t);return this};p.prototype.type=function(t){var e=this.ctx;var n=r[t]||t;e.headers["content-type"]=n;if(~n.indexOf("json")){e.agentOpts.json=true}return this};p.prototype.send=p.prototype.body=function(t){this.ctx.body=t;return this};p.prototype.cookie=function(t,e){this.ctx.cookies[t]=e;return this};p.prototype.unsetCookie=function(t){delete this.ctx.cookies[t];return this};p.prototype.auth=function(t,e){this.ctx.opts.auth={user:t,password:e};return this};p.prototype.use=function(t){this.ctx.middleware.use("request",t);return this};p.prototype.useResponse=function(t){this.ctx.middleware.use("response",t);return this};p.prototype.validator=p.prototype.requestValidator=function(t){this.ctx.validator.use("request",t);return this};p.prototype.responseValidator=function(t){this.ctx.validator.use("response",t);return this};p.prototype.validate=function(t){var e=this.raw();var n=new a(this.req);new u(this).validate("request",e,n,t);return this};p.prototype.model=function(t){if(typeof t!=="function")throw new TypeError("model must be a function");this.useResponse(function(e,n,r){var i=n.body;if(i)n.model=t(i,e,n);r()});return this};p.prototype.agent=function(t){if(typeof t==="string")t=o.get(t);if(typeof t!=="function")throw new TypeError("unsupported or invalid agent");this.ctx.agent=t;return this};p.prototype.agentOpts=function(t){i.extend(this.ctx.agentOpts,t);return this};p.prototype.setAgentOpts=function(t){this.ctx.agentOpts=t;return this};p.prototype.persistAgentOpts=function(t){this.ctx.persistent.agentOpts=t;return this};p.prototype.options=function(t){i.extend(this.ctx.opts,t);return this};p.prototype.persistOptions=function(t){this.ctx.persistent.opts=t;return this};p.prototype.debug=function(t){if(typeof t!=="function")throw new TypeError("debug must be a function");this.ctx.debug=t;return this};p.prototype.stopDebugging=function(){this.ctx.debug=null;return this};p.prototype.useParent=function(t){if(!(t instanceof p))throw new TypeError("Parent context is not a valid argument");this.parent=t;this.ctx.useParent(t.ctx);return this};p.prototype.end=function(t){return new u(this).run(t)};p.prototype.raw=function(){var t=this.ctx.raw();t.req=this;t.ctx=this.ctx;return t};p.prototype.clone=function(){var t=this.ctx.clone();var e=new p(t);e.parent=this.parent;return e}},{"./agents":3,"./context":6,"./dispatcher":7,"./response":19,"./types":21,"./utils":25}],19:[function(t,e,n){e.exports=r;function r(t){this.req=t;this.orig=this.body=this.json=this.type=null;this.headers={};this.typeParams={};this.status=this.statusType=this.statusCode=0;this.statusText=""}r.prototype.setOriginalResponse=function(t){this.orig=t};r.prototype.setBody=function(t){this.body=t;if(this.type==="json")this.json=t};r.prototype.get=function(t){return this.headers[t.toLowerCase()]};r.prototype.setHeaders=function(t){for(var e in t){this.headers[e.toLowerCase()]=t[e]}var n=this.headers["content-type"];if(n)this.setType(n)};r.prototype.setType=function(t){var e=t||"";this.type=o(e);var n=i(e);for(var r in n)this.typeParams[r]=n[r]};r.prototype.setStatus=function(t){if(t===1223)t=204;var e=t/100|0;this.statusType=e;this.status=this.statusCode=t;this.info=1==e;this.ok=2==e;this.clientError=4==e;this.serverError=5==e;this.error=4==e||5==e?this.toError():false;this.accepted=202==t;this.noContent=204==t;this.badRequest=400==t;this.unauthorized=401==t;this.notAcceptable=406==t;this.notFound=404==t;this.forbidden=403==t};r.prototype.setStatusText=function(t){this.statusText=t};r.prototype.toError=function(){var t=this.req;var e=t.method;var n=t.url;var r="cannot "+e+" "+n+" ("+this.status+")";var i=new Error(r);i.status=this.status;i.method=e;i.url=n;return i};function i(t){return t.split(/ *; */).reduce(function(t,e){var n=e.split(/ *= */);var r=n.shift();var i=n.shift();if(r&&i)t[r]=i;return t},{})}function o(t){return t.split(/ *; */).shift()}},{}],20:[function(t,e,n){e.exports=r;function r(t){return new r.entities.Client(t)}r.Request=t("./request");r.Response=t("./response");r.Context=t("./context");r.Dispatcher=t("./dispatcher");r.agents=t("./agents");r.engine=t("./engine");r.entities=t("./entities");r.utils=t("./utils");["Resource","Collection","Mixin"].forEach(function(t){r[t.toLowerCase()]=function(e,n){return new r.entities[t](e,n)}});r.VERSION="0.1.0"},{"./agents":3,"./context":6,"./dispatcher":7,"./engine":10,"./entities":14,"./request":18,"./response":19,"./utils":25}],21:[function(t,e,n){e.exports={html:"text/html",json:"application/json",xml:"application/xml",urlencoded:"application/x-www-form-urlencoded",form:"application/x-www-form-urlencoded","form-data":"application/x-www-form-urlencoded"}},{}],22:[function(t,e,n){e.exports=function r(t){var e={};for(var n in t)e[n]=t[n];return e}},{}],23:[function(t,e,n){var r=t("./clone");e.exports=function i(t,e){t=t||{};for(var n in e)t[n]=e[n];return t}},{"./clone":22}],24:[function(t,e,n){var r=Object.prototype.hasOwnProperty;e.exports=function(t,e){return!!t&&r.call(t,e)}},{}],25:[function(t,e,n){e.exports={has:t("./has"),merge:t("./merge"),clone:t("./clone"),series:t("./series"),extend:t("./extend"),pathParams:t("./path-params")}},{"./clone":22,"./extend":23,"./has":24,"./merge":26,"./path-params":27,"./series":28}],26:[function(t,e,n){var r=t("./clone");var i=t("./extend");var o=Array.prototype.slice;e.exports=function s(t,e){var n=o.call(arguments,1);t=r(t);n.forEach(function(e){i(t,e)});return t}},{"./clone":22,"./extend":23}],27:[function(t,e,n){var r=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^()])+)\\))?|\\(((?:\\\\.|[^()])+)\\))([+*?])?|(\\*))"].join("|"),"g");e.exports=function(t,e){var n=null;while((n=r.exec(t))!=null){var i=n[3];if(i&&!e[i]){throw new Error("Missing path param: "+i)}t=t.replace(":"+i,e[i])}return t}},{}],28:[function(t,e,n){var r=Array.prototype.slice;e.exports=function i(t,e,n){var i=t.slice();e=e||function(){};function o(t){if(t)return e.apply(n,arguments);var s=i.shift();if(!s)return e.apply(n,arguments);var a=r.call(arguments,1);s.apply(n,a.concat(o))}o()}},{}],29:[function(t,e,n){var r=t("./middleware");e.exports=i;function i(){r.call(this)}i.prototype=Object.create(r.prototype);i.prototype.eval=function(t,e,n,r){t.run(e,n,function(t){r(t)})}},{"./middleware":17}],30:[function(t,e,n){},{}],31:[function(e,n,r){(function(e,i){if(typeof t==="function"&&t.amd){t(["exports"],i)}else if(typeof r==="object"){i(r);if(typeof n==="object"&&n!==null){n.exports=r=r.http}}else{i(e.lil=e.lil||{})}})(this,function(t){"use strict";var e="0.1.16";var n=Object.prototype.toString;var r=Array.prototype.slice;var i=Object.prototype.hasOwnProperty;var o=typeof Function.prototype.bind==="function";var s=location.origin;var a=/^(http[s]?:\/\/[a-z0-9\-\.\:]+)[\/]?/i;var u=/application\/json/;var p=typeof XDomainRequest!=="undefined";var c=function(){};var f={method:"GET",timeout:30*1e3,auth:null,data:null,headers:null,withCredentials:false,responseType:"text"};function h(t){return t&&n.call(t)==="[object Object]"||false}function l(t){var e,n,o,s,a=r.call(arguments).slice(1);for(e=0,n=a.length;e<n;e+=1){s=a[e];for(o in s)if(i.call(s,o))t[o]=s[o]}return t}function d(t){var e=false;return function(){if(e===false){e=true;t.apply(null,arguments)}}}function y(t,e){if(h(e)){e["Content-Type"]=e["Content-Type"]||U.defaultContent;for(var n in e)if(i.call(e,n)){t.setRequestHeader(n,e[n])}}}function v(t){var e={},n=t.getAllResponseHeaders().trim().split("\n");n.forEach(function(t){var n=t.trim().split(":");var r=n.shift().trim();var i=n.join(":").trim();e[r]=i});return e}function x(t){return u.test(t.getResponseHeader("Content-Type"))}function m(t){return Object.getOwnPropertyNames(t).filter(function(e){return t[e]!==undefined}).map(function(e){var n=t[e]===null?"":t[e];return encodeURIComponent(e)+(n?"="+encodeURIComponent(n):"")}).join("&").replace(/%20/g,"+")}function g(t){var e=null;if(t.responseType==="text"){e=t.responseText;if(x(t)&&e)e=JSON.parse(e)}else{e=t.response}return e}function w(t){return t===1223?204:t}function b(t){var e={xhr:t,status:w(t.status),statusText:t.statusText,data:null,headers:{}};if(t.readyState===4){e.data=g(t);e.headers=v(t)}return e}function q(t,e){var n=b(t);n.error=e;if(e.stack)n.stack=e.stack;return n}function E(t){t.onreadystatechange=t.onerror=t.ontimeout=null}function T(t){var e=w(t.status);return e>=200&&e<300||e===304}function O(t,e){return d(function(n){e(q(t,n),null)})}function P(t,e,n){return function(t){if(e.readyState===4){E(e);if(T(e)){n(null,b(e))}else{O(e,n)(t)}}}}function C(t){var e=t.match(a);return e&&e[1]===s}function R(t){var e=t.url;if(h(t.params)){e+=(e.indexOf("?")===-1?"?":"&")+m(t.params)}return e}function j(t){if(p&&C(t)){return new XDomainRequest}else{return new XMLHttpRequest}}function k(t){var e=(t.method||"GET").toUpperCase();var n=t.auth;var r=R(t);var i=j(r);if(n){i.open(e,r,true,n.user,n.password)}else{i.open(e,r)}i.withCredentials=t.withCredentials;i.responseType=t.responseType;i.timeout=t.timeout;y(i,t.headers);return i}function S(t,e){return function(t){if(t.lengthComputable){e(t,t.loaded/t.total)}else{e(t)}}}function A(t){return t&&h(t.headers)&&(t.headers["content-type"]||t.headers["Content-Type"])||false}function H(t,e){var n=e.data;if(h(e.data)||Array.isArray(e.data)){if(A(e)===false){t.setRequestHeader("Content-Type","application/json")}n=JSON.stringify(e.data)}return n}function D(t,e){return function(){clearTimeout(e);t.apply(null,arguments)}}function M(t,e,n){var r=k(t);var i=H(r,t);var s=O(r,e);if(o){r.ontimeout=s}else{var a=setTimeout(function p(){if(r.readyState!==4){r.abort()}},t.timeout);e=D(e,a);s=O(r,e)}r.onreadystatechange=P(t,r,e);r.onerror=s;if(typeof n==="function"){r.onprogress=S(r,n)}try{r.send(i||null)}catch(u){s(u)}return{xhr:r,config:t}}function N(t){return function(e,n,i,o){var s,a,u=null;var p=l({},f,{method:t});var d=r.call(arguments);for(s=0,a=d.length;s<a;s+=1){u=d[s];if(typeof u==="function"){if(d.length===s+1&&typeof d[s-1]==="function"){o=u}else{i=u}}else if(h(u)){l(p,u)}else if(typeof u==="string"&&!p.url){p.url=u}}return M(p,i||c,o)}}function U(t,e,n,r){return N("GET").apply(null,arguments)}U.VERSION=e;U.defaults=f;U.defaultContent="text/plain";U.get=N("GET");U.post=N("POST");U.put=N("PUT");U.patch=N("PATCH");U.head=N("HEAD");U.delete=U.del=N("DELETE");return t.http=U})},{}],32:[function(e,n,r){(function(e,i){if(typeof t==="function"&&t.amd){t(["exports"],i)}else if(typeof r==="object"){i(r);if(typeof n==="object"&&n!==null){n.exports=r=r.midware}}else{i(e)}})(this,function(t){"use strict";function e(t){var e=r.stack=[];t=t||null;function r(){n(arguments).filter(function(t){return typeof t==="function"}).forEach(function(t){e.push(t)});return t}r.run=function i(){var r,i=n(arguments);if(typeof i[i.length-1]==="function"){r=i.pop()}if(!e.length){if(r)r.call(t);return}var o=e.slice();i.push(a);function s(){var e=o.shift();e.apply(t,i)}function a(e,n){if(e||n||!o.length){o=null;if(r)r.call(t,e,n)}else{s()}}s()};r.remove=function(t){for(var n=0,r=e.length;n<r;n+=1){var i=e[n];if(i===t||i.name===t){e.splice(n,1);break}}};r.flush=function(){e.splice(0)};return r}function n(t){var e=new Array(t.length);for(var n=0,r=e.length;n<r;n+=1){e[n]=t[n]}return e}e.VERSION="0.1.7";t.midware=e})},{}]},{},[20])(20)});
//# sourceMappingURL=http://cdn.rawgit.com/h2non/theon.js/0.1.0-beta.1/theon.min.js.map
