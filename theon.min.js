/*! theon v0.1.0 - MIT license - https://github.com/h2non/theon */
(function(t){if(typeof exports==="object"&&typeof module!=="undefined"){module.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{var e;if(typeof window!=="undefined"){e=window}else if(typeof global!=="undefined"){e=global}else if(typeof self!=="undefined"){e=self}else{e=this}e.theon=t()}})(function(){var t,e,r;return function n(t,e,r){function o(s,u){if(!e[s]){if(!t[s]){var c=typeof require=="function"&&require;if(!u&&c)return c(s,!0);if(i)return i(s,!0);var a=new Error("Cannot find module '"+s+"'");throw a.code="MODULE_NOT_FOUND",a}var p=e[s]={exports:{}};t[s][0].call(p.exports,function(e){var r=t[s][1][e];return o(r?r:e)},p,p.exports,n,t,e,r)}return e[s].exports}var i=typeof require=="function"&&require;for(var s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,r){var n=t("midware");var o=t("./utils");var i=t("./builder");e.exports=s;function s(t){this.ctx=t;this.httpAgent=null;this.httpAgentOpts=null;this.name=null;this.methods=[];this.resources=[];this.collections=[];this.opts={};this.params={};this.query={};this.headers={};this.cookies={};this.httpVerb="GET";this.aliases=[];this.validators={request:n(this),response:n(this)};this.mw={request:n(this),response:n(this)}}s.prototype.alias=function(t){this.aliases.push(t);return this};s.prototype.basePath=function(t){this.opts.basePath=t;return this};s.prototype.path=function(t){this.opts.path=t;return this};s.prototype.options=function(t){o.merge(this.opts,t);return this};s.prototype.param=function(t,e){this.params[t]=e;return this};s.prototype.queryParam=function(t,e){this.query[t]=e;return this};s.prototype.type=function(t){this.headers["content-type"]=t;return this};s.prototype.header=function(t,e){this.headers[t]=e;return this};s.prototype.setHeaders=function(t){this.headers=t;return this};s.prototype.removeHeader=function(t){delete this.headers[t];return this};s.prototype.collection=function(t){if(!(t instanceof s.Collection)){t=new s.Collection(t)}t.ctx=this;this.collections.push(t);return t};s.prototype.resource=function(t){if(!(t instanceof s.Resource)){t=new s.Resource(t)}this.resources.push(t);return t};s.prototype.method=function(t,e){if(typeof t!=="string")throw new TypeError("method argument must be a string");var r=new s.Method(t,e);this.methods.push(r);return r};s.prototype.use=s.prototype.useRequest=function(t){this.mw.request.push(t)};s.prototype.useResponse=function(t){this.mw.response.push(t)};s.prototype.validator=s.prototype.requestValidator=function(t){this.validators.request.push(t);return this};s.prototype.responseValidator=function(t){this.validators.response.push(t);return this};s.prototype.render=function(){return new i(this).render()};s.prototype.agent=function(t,e){if(typeof t!=="function")throw new TypeError("agent argument must be a function");this.httpAgent=t;if(e)this.httpAgentOpts=e;return this};s.prototype.agentOpts=function(t){this.httpAgentOpts=t;return this}},{"./builder":2,"./utils":7,midware:8}],2:[function(t,e,r){e.exports=n;function n(t){this.ctx=t;this.client=null}n.prototype.render=function(){var t=this.ctx;function e(t){this.ctx=t}var r=e.prototype;r.doRequest=function(t,e){var r={method:t,headers:this.ctx.headers,cookies:this.ctx.cookies,query:this.ctx.query,params:thix.ctx.params,body:this.ctx.body};var n=this.ctx;n.validators.request.run(r,this.ctx,function(t){if(t)return e(t);o(r,n)});function o(t,e){t.mw.request}};["get","post","put","patch","delete","head","options"].forEach(function(t){r[t]=function(){return this.doRequest(t)}});t.collections.forEach(n);t.resources.forEach(n);t.methods.forEach(n);function n(t){var e=t.name;if(!e)throw new TypeError("Cannot render, missing name");if(r[e])throw new Error('Name conflict: "'+e+'" is already in use');Object.defineProperty(r,e,{get:function(){return t.render()},enumerable:true,configurable:true})}return new e(t)}},{}],3:[function(t,e,r){var n=t("midware");var o=t("./base");var i=t("./collection");e.exports=s;function s(t){o.call(this,t)}s.prototype=Object.create(o.prototype)},{"./base":1,"./collection":4,midware:8}],4:[function(t,e,r){var n=t("./base");e.exports=n.Collection=o;function o(t){if(typeof t!=="string")throw new TypeError("collection name must be a string");n.call(this);this.name=t}o.prototype=Object.create(n.prototype)},{"./base":1}],5:[function(t,e,r){var n=t("./base");e.exports=n.Resource=o;function o(t){if(typeof t!=="string")throw new TypeError("resource name must be a string");n.call(this);this.ctx=null;this.name=t;this.httpVerb="GET"}o.prototype=Object.create(n.prototype);o.prototype.verb=function(t){this.httpVerb=t;return this}},{"./base":1}],6:[function(t,e,r){var n=t("./client");e.exports=o;function o(t){return new n(t)}o.Base=t("./base");o.Client=t("./client");o.Client=t("./client");o.Resource=t("./resource");o.VERSION="0.1.0"},{"./base":1,"./client":3,"./resource":5}],7:[function(t,e,r){r.merge=function(t,e){for(var r in e){t[r]=e[r]}return t};r.eachSeries=function(t,e,r){var n=t.slice();var o=e.length;r=r||function(){};function i(t){if(t)return r(t);var s=n.shift();if(!s)return r();if(o>1)e(s,i);else i(e(s))}i()}},{}],8:[function(e,r,n){(function(e,o){if(typeof t==="function"&&t.amd){t(["exports"],o)}else if(typeof n==="object"){o(n);if(typeof r==="object"&&r!==null){r.exports=n=n.midware}}else{o(e)}})(this,function(t){"use strict";var e=Array.prototype.slice;r.VERSION="0.1.6";function r(t){var e=r.stack=[];t=t||null;function r(){var r=n(arguments);r.forEach(function(t){if(typeof t==="function"){e.push(t)}});return t}r.run=function o(){var r,o=n(arguments);if(typeof o[o.length-1]==="function"){r=o.pop()}if(!e.length){if(r)r.call(t);return}var i=e.slice();o.push(u);function s(){var e=i.shift();try{e.apply(t,o)}catch(r){u(r)}}function u(e,n){if(e||n||!i.length){i=null;if(r){r.call(t,e,n)}return}s()}s()};r.remove=function(t){for(var r=0,n=e.length;r<n;r+=1){var o=e[r];if(o===t||o.name===t){e.splice(r,1);break}}};r.flush=function(){e.splice(0)};return r}function n(t){var e=new Array(t.length);for(var r=0,n=e.length;r<n;r+=1){e[r]=t[r]}return e}t.midware=r})},{}]},{},[6])(6)});
//# sourceMappingURL=http://cdn.rawgit.com/h2non/theon.js/0.1.0/theon.min.js.map
